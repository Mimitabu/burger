(this["webpackJsonpreact-burger"]=this["webpackJsonpreact-burger"]||[]).push([[0],{106:function(e,t,n){e.exports={main:"app_main__3yfFw"}},107:function(e,t,n){e.exports={container:"headerItem_container__3FwvQ"}},109:function(e,t,n){e.exports={ingredientContainer:"ingredientContainer_ingredientContainer__3wxZR"}},112:function(e,t,n){e.exports={section:"burgerConstructor_section__U7oCA"}},113:function(e,t,n){e.exports={list:"orderList_list__1A-51",item:"orderList_item__1XREq"}},114:function(e,t,n){e.exports={orderContainer:"fillingContainer_orderContainer__2tVC6"}},115:function(e,t,n){e.exports={container:"totalBlock_container__2pUEO"}},116:function(e,t,n){e.exports={container:"modalOverlay_container__3SzjP"}},117:function(e,t,n){e.exports={list:"profileOrders_list__2qHhl"}},126:function(e,t,n){},21:function(e,t,n){e.exports={parentContainer:"imgStackRow_parentContainer__2Ehz4",imageContainer:"imgStackRow_imageContainer__3GVcv",image:"imgStackRow_image__Sa0l0",image_last:"imgStackRow_image_last__2Wqg5",span:"imgStackRow_span__3CJ3m",background:"imgStackRow_background__dwm7l"}},213:function(e,t,n){"use strict";n.r(t),n.d(t,"Button",(function(){return tt.Button})),n.d(t,"Logo",(function(){return tt.Logo})),n.d(t,"ConstructorElement",(function(){return tt.ConstructorElement})),n.d(t,"Tab",(function(){return tt.Tab})),n.d(t,"Input",(function(){return tt.Input})),n.d(t,"Counter",(function(){return tt.Counter})),n.d(t,"EmailInput",(function(){return tt.EmailInput})),n.d(t,"PasswordInput",(function(){return tt.PasswordInput})),n.d(t,"BurgerIcon",(function(){return tt.BurgerIcon})),n.d(t,"CloseIcon",(function(){return tt.CloseIcon})),n.d(t,"CheckMarkIcon",(function(){return tt.CheckMarkIcon})),n.d(t,"CurrencyIcon",(function(){return tt.CurrencyIcon})),n.d(t,"DragIcon",(function(){return tt.DragIcon})),n.d(t,"EditIcon",(function(){return tt.EditIcon})),n.d(t,"HideIcon",(function(){return tt.HideIcon})),n.d(t,"InfoIcon",(function(){return tt.InfoIcon})),n.d(t,"ListIcon",(function(){return tt.ListIcon})),n.d(t,"LockIcon",(function(){return tt.LockIcon})),n.d(t,"LogoutIcon",(function(){return tt.LogoutIcon})),n.d(t,"ProfileIcon",(function(){return tt.ProfileIcon})),n.d(t,"ShowIcon",(function(){return tt.ShowIcon})),n.d(t,"DeleteIcon",(function(){return tt.DeleteIcon})),n.d(t,"ArrowUpIcon",(function(){return tt.ArrowUpIcon})),n.d(t,"ArrowDownIcon",(function(){return tt.ArrowDownIcon})),n.d(t,"MenuIcon",(function(){return tt.MenuIcon})),n.d(t,"store",(function(){return On}));var a=n(1),c=n.n(a),r=n(33),s=n.n(r),i=(n(126),n(10)),o=n(5),l=n(218),u=n(119),d=n(106),j=n.n(d),m=n(57),b=n.n(m),p=n(107),x=n.n(p),_=n(0);var h=function(e){var t=e.clickFunc,n=e.children,a=e.styles,c=e.text;return Object(_.jsxs)("button",{className:"".concat(x.a.container," pt-4 pb-4 pr-5 pl-5 mt-4 mb-4 ml-5 mr-2"),onClick:t,children:[n,Object(_.jsx)("div",{className:"text ml-2 ".concat(a),children:c})]})};var O=function(){var e=Object(o.g)();return Object(_.jsxs)("header",{className:"".concat(b.a.header," mt-10"),children:[Object(_.jsxs)("nav",{className:b.a.container,children:[Object(_.jsx)(h,{text:"\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440",styles:"text_type_main-default text_color_inactive",clickFunc:function(){e.replace({pathname:"/"})},children:Object(_.jsx)(tt.BurgerIcon,{type:"primary"})}),Object(_.jsx)(h,{text:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432",styles:"text_type_main-default text_color_inactive",clickFunc:function(){e.replace({pathname:"/feed"})},children:Object(_.jsx)(tt.ListIcon,{type:"secondary"})})]}),Object(_.jsx)("div",{className:b.a.logo,children:Object(_.jsx)(tt.Logo,{})}),Object(_.jsx)(h,{text:"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442",styles:"text_type_main-default text_color_inactive profile",clickFunc:function(){e.replace({pathname:"/profile"})},children:Object(_.jsx)(tt.ProfileIcon,{type:"secondary"})})]})},f=n(82),g=n.n(f),v=n(109),y=n.n(v),N=n(6),S=n(42),R=n.n(S),C=n(219);var I=function(e){var t=e.item,n=Object(o.g)(),a=Object(C.a)({type:"ingredients",item:{item:t}}),c=Object(N.a)(a,2)[1];return Object(_.jsxs)("div",{ref:c,className:R.a.container,onClick:function(){n.push({state:{background:{pathname:"/"}},pathname:"/ingredients/".concat(t._id)})},children:[0!==t.__v&&Object(_.jsx)(tt.Counter,{count:t.__v,size:"default"}),Object(_.jsx)("img",{className:"".concat(R.a.image," ml-4 mb-1 mr-4"),alt:t.name,src:t.image}),Object(_.jsxs)("div",{className:"".concat(R.a.priceContainer," mb-1"),children:[Object(_.jsx)("span",{className:"text text_type_digits-default mr-2",children:t.price}),Object(_.jsx)(tt.CurrencyIcon,{type:"primary"})]}),Object(_.jsx)("div",{className:"".concat(R.a.name," text text_type_main-default"),children:t.name})]})};var k=function(e){var t=e.data,n=e.type,r=e.text,s=Object(a.useRef)(null);return Object(_.jsxs)("div",{className:"mt-10 mb-10",id:n,ref:s,children:[Object(_.jsx)("h3",{className:"text text_type_main-medium",children:r}),Object(_.jsx)("div",{className:"".concat(y.a.ingredientContainer," mt-6 mb-10 ml-4 mr-1"),children:t.map((function(e){return Object(_.jsx)(c.a.Fragment,{children:Object(_.jsx)(I,{item:e})},e._id)}))})]})},E=n(8),w=n.n(E),T=n(16),q="https://norma.nomoreparties.space/api",F="GET_INGREDIENTS_REQUEST",U="GET_INGREDIENTS_SUCCESS",P="GET_INGREDIENTS_FAILED",A="SHOW_MODAL",D="HIDE_MODAL",L="ADD_BUN_TO_ODER",B="ADD_INGREDIENT_TO_ORDER",G="REMOVE_FROM_ORDER",z="MOVE_ITEM_IN_ORDER",M="GET_ORDER_REQUEST",H="GET_ORDER_SUCCESS",J="GET_ORDER_FAILED",Q="CHANDGE_CURRENT_TAB",V=n(41),W=function(){return Object(V.b)()},Z=V.c;var X=function(){var e=W(),t=Z((function(e){return e.currentTab.current})),n=function(t){e({type:Q,current:t})};function c(){return Object(_.jsxs)("div",{style:{display:"flex"},children:[Object(_.jsx)(tt.Tab,{value:"\u0411\u0443\u043b\u043a\u0438",active:"\u0411\u0443\u043b\u043a\u0438"===t,onClick:n,children:"\u0411\u0443\u043b\u043a\u0438"}),Object(_.jsx)(tt.Tab,{value:"\u0421\u043e\u0443\u0441\u044b",active:"\u0421\u043e\u0443\u0441\u044b"===t,onClick:n,children:"\u0421\u043e\u0443\u0441\u044b"}),Object(_.jsx)(tt.Tab,{value:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438",active:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438"===t,onClick:n,children:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438"})]})}var r=Z((function(e){return e.ingredient.items}));function s(e,t){return e.filter((function(e){return e.type===t}))}var i=Object(a.useRef)(null),o=s(r,"bun"),l=s(r,"main"),u=s(r,"sauce"),d=document.getElementById("bun"),j=document.getElementById("sauce"),m=document.getElementById("main");return Object(_.jsxs)("section",{className:"".concat(g.a.section," mr-10"),children:[Object(_.jsx)("h1",{className:"text text_type_main-large mt-10 mb-5",children:"\u0421\u043e\u0431\u0435\u0440\u0438\u0442\u0435 \u0431\u0443\u0440\u0433\u0435\u0440"}),Object(_.jsx)(c,{}),Object(_.jsxs)("div",{className:g.a.mainContainer,onScroll:function(){var e=i.current.getBoundingClientRect().top,t=d.getBoundingClientRect().bottom-e,a=j.getBoundingClientRect().bottom-e,c=m.getBoundingClientRect().bottom-e;t>0&&n("\u0411\u0443\u043b\u043a\u0438"),t<0&&a>0&&a>e&&n("\u0421\u043e\u0443\u0441\u044b"),t<0&&a<0&&c>e&&n("\u041d\u0430\u0447\u0438\u043d\u043a\u0438")},ref:i,children:[Object(_.jsx)(k,{text:"\u0411\u0443\u043b\u043a\u0438",data:o,type:"bun"}),Object(_.jsx)(k,{text:"\u0421\u043e\u0443\u0441\u044b",data:u,type:"sauce"}),Object(_.jsx)(k,{text:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438",data:l,type:"main"})]})]})},K=n(112),Y=n.n(K),$=n(2),ee=n(221),te=n(113),ne=n.n(te),ae=n(114),ce=n.n(ae),re=n(220);function se(e){var t=e.item,n=e.index,c=Object(a.useRef)(null),r=W(),s=Object(re.a)({accept:"filling",hover:function(e,t){var a;if(c.current){var s=e.index,i=n;if(s!==i){var o=null===(a=c.current)||void 0===a?void 0:a.getBoundingClientRect(),l=(o.bottom-o.top)/2,u=t.getClientOffset().y-o.top;s<i&&u<l||s>i&&u>l||(r({type:z,dragIndex:s,hoverIndex:i}),e.index=i)}}}}),i=Object(N.a)(s,2)[1],o=Object(C.a)({type:"filling",item:function(){return{item:t,index:n}},collect:function(e){return{isDragging:e.isDragging()}}}),l=Object(N.a)(o,2),u=l[0].isDragging?0:1;return(0,l[1])(i(c)),Object(_.jsxs)("div",{className:"mr-2 order-item",ref:c,style:{opacity:u},children:[Object(_.jsx)(tt.DragIcon,{type:"primary"}),Object(_.jsx)(tt.ConstructorElement,{text:t.name,price:t.price,thumbnail:t.image,handleClose:function(){!function(e,t){r({type:G,_id:e,index:t})}(t._id,n)}})]})}var ie=function(){var e=Z((function(e){return e.ingredient})).orderItems;return Object(_.jsx)("div",{className:ce.a.orderContainer,children:e.map((function(e,t){return Object(_.jsx)(se,{item:e,index:t},e._key)}))})};var oe=function(){var e=W(),t=Z((function(e){return e.ingredient})).buns,n=Object(re.a)({accept:"ingredients",drop:function(n){!function(n){var a=n.item._id;"bun"===n.item.type?0!==t.length&&1!==t.length||e(Object($.a)({type:L},{_id:a})):e(Object($.a)({type:B},{_id:a}))}(n)},collect:function(e){return{isHover:e.isOver()}}}),c=Object(N.a)(n,2)[1],r=Object(a.useMemo)((function(){return t.map((function(e){return Object(_.jsx)("div",{className:"ml-6 order-item bun",style:{display:"flex",width:"100%"},children:Object(_.jsx)(tt.ConstructorElement,{type:"top",isLocked:!0,text:"".concat(e.name," (\u0432\u0435\u0440\u0445)"),price:e.price,thumbnail:e.image})},Object(ee.a)())}))}),[t]),s=Object(a.useMemo)((function(){return t.map((function(e){return Object(_.jsx)("div",{className:"ml-6 order-item bun",style:{display:"flex",width:"100%"},children:Object(_.jsx)(tt.ConstructorElement,{type:"bottom",isLocked:!0,text:"".concat(e.name," (\u043d\u0438\u0437)"),price:e.price,thumbnail:e.image})},Object(ee.a)())}))}),[t]);return Object(_.jsxs)("div",{ref:c,className:"".concat(ne.a.list," mb-10"),children:[r,Object(_.jsx)(ie,{}),s]})},le=n(115),ue=n.n(le),de=function(e){var t=e.ingredient,n=t.orderItems,a=t.buns;return n.reduce((function(e,t){return e+t.price}),0)+2*a.reduce((function(e,t){return e+t.price}),0)};var je=function(){var e=W(),t=Object(o.g)(),n=Z((function(e){return e.ingredient})).orderItems,a=Z((function(e){return e.ingredient})).buns,c=Z(de),r=Z((function(e){return e.order.hasRequestOrderFailed})),s=Z((function(e){return e.register})).user;return Object(_.jsxs)("div",{className:ue.a.container,children:[Object(_.jsx)("span",{className:"text text_type_digits-medium mr-2",children:c}),Object(_.jsx)(tt.CurrencyIcon,{type:"primary"}),Object(_.jsx)("div",{className:"ml-10"}),Object(_.jsx)(tt.Button,{type:"primary",size:"medium",onClick:function(){var c,i=[];n.forEach((function(e){i.push(e._id)})),a.forEach((function(e){i.push(e._id)})),n.length>0&&a.length>0&&(""!==s.email&&""!==s.name?(e((c=i,function(e){e({type:M}),fetch("".concat(q,"/orders"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"".concat(localStorage.getItem("accessToken"))},body:JSON.stringify({ingredients:c})}).then(function(){var t=Object(T.a)(w.a.mark((function t(n){var a;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n||!n.ok){t.next=7;break}return t.next=3,n.json();case 3:a=t.sent,e({type:H,orderNumber:a.order.number}),t.next=8;break;case 7:e({type:J});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e({type:J})}))})),r||e({type:A,content:null,currentItem:{}})):t.replace({pathname:"/login"}))},children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"})]})};var me=function(){return Object(_.jsxs)("section",{className:"".concat(Y.a.section," pt-25 pl-4"),children:[Object(_.jsx)(oe,{}),Object(_.jsx)(je,{})]})},be=n(25),pe=n.n(be);var xe=function(){var e=Object(o.i)().id,t=Z((function(e){return e.ingredient})).items.filter((function(t){return t._id===e}))[0];return t?Object(_.jsxs)("div",{className:pe.a.content,children:[Object(_.jsx)("img",{src:t.image_large,className:"".concat(pe.a.modalImage," mb-4"),alt:t.name}),Object(_.jsx)("span",{className:"text text_type_main-medium mb-8",children:t.name}),Object(_.jsxs)("div",{className:pe.a.spansContainer,children:[Object(_.jsxs)("div",{className:"".concat(pe.a.spans," mr-5"),children:[Object(_.jsx)("span",{className:"text text_type_main-default text_color_inactive mb-2",children:"\u041a\u0430\u043b\u043e\u0440\u0438\u0438,\u043a\u043a\u0430\u043b"}),Object(_.jsx)("span",{className:"text text_type_digits-default text_color_inactive",children:t.calories})]}),Object(_.jsxs)("div",{className:"".concat(pe.a.spans," mr-5"),children:[Object(_.jsx)("span",{className:"text text_type_main-default text_color_inactive mb-2",children:"\u0411\u0435\u043b\u043a\u0438, \u0433"}),Object(_.jsx)("span",{className:"text text_type_digits-default text_color_inactive",children:t.proteins})]}),Object(_.jsxs)("div",{className:"".concat(pe.a.spans," mr-5"),children:[Object(_.jsx)("span",{className:"text text_type_main-default text_color_inactive mb-2",children:"\u0416\u0438\u0440\u044b, \u0433"}),Object(_.jsx)("span",{className:"text text_type_digits-default text_color_inactive",children:t.fat})]}),Object(_.jsxs)("div",{className:pe.a.spans,children:[Object(_.jsx)("span",{className:"text text_type_main-default text_color_inactive mb-2",children:"\u0423\u0433\u043b\u0435\u0432\u043e\u0434\u044b, \u0433"}),Object(_.jsx)("span",{className:"text text_type_digits-default text_color_inactive",children:t.carbohydrates})]})]})]}):null},_e=n(58),he=n.n(_e),Oe=n.p+"static/media/done.e036971b.png";var fe=function(){var e=Z((function(e){return e.order.orderNumber}));return Object(_.jsxs)("div",{className:he.a.container,children:[Object(_.jsx)("div",{className:"".concat(he.a.text," text text_type_digits-large mb-8"),children:e}),Object(_.jsx)("span",{className:"text text_type_main-medium mb-15",children:"\u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0437\u0430\u043a\u0430\u0437\u0430"}),Object(_.jsx)("img",{src:Oe,className:"".concat(he.a.image," mb-15"),alt:"check"}),Object(_.jsx)("span",{className:"text text_type_main-default mb-2",children:"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u043d\u0430\u0447\u0430\u043b\u0438 \u0433\u043e\u0442\u043e\u0432\u0438\u0442\u044c"}),Object(_.jsx)("span",{className:"text text_type_main-default text_color_inactive",children:"\u0414\u043e\u0436\u0434\u0438\u0442\u0435\u0441\u044c \u0433\u043e\u0442\u043e\u0432\u043d\u043e\u0441\u0442\u0438 \u043d\u0430 \u043e\u0440\u0431\u0438\u0442\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u0442\u0430\u043d\u0446\u0438\u0438"})]})},ge=n(59),ve=n.n(ge),ye=n(116),Ne=n.n(ye),Se=function(e){return Object(_.jsx)("div",{className:Ne.a.container,onClick:e.closeModal,id:"overlay",children:e.children})},Re=document.getElementById("react-modals");var Ce=function(e){var t=e.closeModal,n=function(e){"Escape"===e.key&&t()};return Object(a.useEffect)((function(){return document.addEventListener("keydown",n),function(){document.removeEventListener("keydown",n)}}),[]),s.a.createPortal(Object(_.jsx)(Se,{closeModal:function(e){e.target===document.getElementById("overlay")&&t()},children:Object(_.jsxs)("div",{className:"".concat(ve.a.content," ").concat(e.pStyle),children:[Object(_.jsxs)("div",{className:ve.a.header,children:[Object(_.jsx)("p",{className:"text text_type_main-large",children:e.header}),Object(_.jsx)("div",{className:ve.a.close,onClick:e.closeModal,style:e.closeStyle,children:Object(_.jsx)(tt.CloseIcon,{type:"primary"})})]}),e.children]})}),Re)},Ie="REG_USER_REQUEST",ke="REG_USER_SUCCESS",Ee="REG_USER_FAILED",we="AUTH_USER_REQUEST",Te="AUTH_USER_SUCCESS",qe="AUTH_USER_FAILED",Fe="GET_USER_REQUEST",Ue="GET_USER_SUCCESS",Pe="GET_USER_FAILED",Ae="LOGOUT_USER_REQUEST",De="LOGOUT_USER_SUCCESS",Le="LOGOUT_USER_FAILED",Be="FOGOT_PASS_REQUEST",Ge="FOGOT_PASS_SUCCESS",ze="FOGOT_PASS_FAILED",Me="RESET_PASS_REQUEST",He="RESET_PASS_SUCCESS",Je="RESET_PASS_FAILED",Qe="CHANGE_USER_REQUEST",Ve="CHANGE_USER_SUCCESS",We="CHANGE_USER_FAILED",Ze=function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))},Xe=function(){var e=Object(T.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(q,"/auth/token"),{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({token:localStorage.getItem("refreshToken")})});case 2:return t=e.sent,e.abrupt("return",Ze(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ke=function(){var e=Object(T.a)(w.a.mark((function e(t){var n,a,c,r,s,i=arguments;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},e.prev=1,e.next=4,fetch(t,n);case 4:return a=e.sent,e.next=7,Ze(a);case 7:return c=e.sent,e.abrupt("return",c);case 11:if(e.prev=11,e.t0=e.catch(1),"jwt expired"!==e.t0.message){e.next=27;break}return e.next=16,Xe();case 16:return r=e.sent,localStorage.setItem("refreshToken",r.refreshToken),localStorage.setItem("accessToken",r.accessToken),e.next=21,fetch(t,n);case 21:return s=e.sent,e.next=24,Ze(s);case 24:return e.abrupt("return",e.sent);case 27:throw e.t0;case 28:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),Ye=n(23),$e=n(34),et=n.n($e),tt=n(3);function nt(){var e=Object(o.h)().state,t=W(),n=c.a.useState({email:"",password:""}),r=Object(N.a)(n,2),s=r[0],i=r[1],l=function(e){var t=e.target.value,n=e.target.name;i(Object($.a)(Object($.a)({},s),{},Object(Ye.a)({},n,t)))},u=Object(o.g)(),d=Object(a.useCallback)((function(){u.replace({pathname:"/register"})}),[u]),j=Object(a.useCallback)((function(){u.replace({pathname:"/fogot-password"})}),[u]),m=Z((function(e){return e.register})),b=m.hasReqAuthSuccess,p=m.hasReqAuthFailed,x=Z((function(e){return e.register})).user;return""!==x.email&&""!==x.name?Object(_.jsx)(o.a,{to:(null===e||void 0===e?void 0:e.from)||"/"}):Object(_.jsx)("div",{className:et.a.container,children:Object(_.jsxs)("div",{className:et.a.content,children:[Object(_.jsx)("h3",{className:"text text_type_main-medium m-6",children:"\u0412\u0445\u043e\u0434"}),Object(_.jsxs)("form",{className:et.a.form,onSubmit:function(e){var n,a;e.preventDefault(),t((n=s.email,a=s.password,function(e){e({type:we}),fetch("".concat(q,"/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n,password:a})}).then(function(){var t=Object(T.a)(w.a.mark((function t(n){var a;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n||!n.ok){t.next=9;break}return t.next=3,n.json();case 3:a=t.sent,e({type:Te,user:a.user}),localStorage.setItem("accessToken",a.accessToken),localStorage.setItem("refreshToken",a.refreshToken),t.next=10;break;case 9:e({type:qe});case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e({type:qe})}))})),b&&u.replace({pathname:"/"})},children:[Object(_.jsx)(tt.Input,{type:"email",placeholder:"E-mail",onChange:l,name:"email",value:s.email,error:!1,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default"}),Object(_.jsx)("div",{className:"mb-6"}),Object(_.jsx)(tt.PasswordInput,{onChange:l,value:s.password,name:"password"}),Object(_.jsx)("div",{className:"mb-6"}),p&&Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("span",{className:"text text_type_main-default text_color_inactive",children:"\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0432\u0432\u0435\u0434\u0435\u043d\u043d\u043e\u0433\u043e \u043b\u043e\u0433\u0438\u043d\u0430 \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(_.jsx)("div",{className:"mb-6"})]}),Object(_.jsx)(tt.Button,{type:"primary",size:"small",children:"\u0412\u043e\u0439\u0442\u0438"}),Object(_.jsx)("div",{className:"mb-20"})]}),Object(_.jsxs)("div",{className:et.a.buttons,children:[Object(_.jsx)("span",{className:"text text_type_main-default text_color_inactive",children:"\u0412\u044b\xa0\u2014 \u043d\u043e\u0432\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c?"}),Object(_.jsx)(tt.Button,{type:"secondary",size:"medium",onClick:d,children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]}),Object(_.jsxs)("div",{className:et.a.buttons,children:[Object(_.jsx)("span",{className:"text text_type_main-default text_color_inactive",children:"\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"}),Object(_.jsx)(tt.Button,{type:"secondary",size:"medium",onClick:j,children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"})]})]})})}var at=n(43),ct=n.n(at);function rt(){var e=c.a.useState({name:"",email:"",password:""}),t=Object(N.a)(e,2),n=t[0],r=t[1],s=function(e){var t=e.target.value,a=e.target.name;r(Object($.a)(Object($.a)({},n),{},Object(Ye.a)({},a,t)))},i=Object(a.useRef)(null),l=Object(a.useRef)(null),u=Object(o.g)(),d=W(),j=Object(a.useCallback)((function(){u.replace({pathname:"/login"})}),[u]),m=Z((function(e){return e.register})),b=m.hasReqRegFailed,p=m.hasReqRegSuccess,x=Z((function(e){return e.register})).user;return""!==x.email&&""!==x.name?Object(_.jsx)(o.a,{to:{pathname:"/"}}):Object(_.jsx)("div",{className:ct.a.container,children:Object(_.jsxs)("div",{className:ct.a.content,children:[Object(_.jsx)("h3",{className:"text text_type_main-medium m-6",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(_.jsxs)("form",{className:ct.a.form,onSubmit:function(e){var t,a,c;e.preventDefault(),d((t=n.email,a=n.password,c=n.name,function(e){e({type:Ie}),fetch("".concat(q,"/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:a,name:c})}).then(function(){var t=Object(T.a)(w.a.mark((function t(n){var a;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n||!n.ok){t.next=9;break}return t.next=3,n.json();case 3:a=t.sent,e({type:ke,user:a.user}),localStorage.setItem("accessToken",a.accessToken),localStorage.setItem("refreshToken",a.refreshToken),t.next=10;break;case 9:e({type:Ee});case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e({type:Ee})}))})),p&&u.replace({pathname:"/login"})},children:[Object(_.jsx)(tt.Input,{type:"text",placeholder:"\u0418\u043c\u044f",onChange:s,name:"name",value:n.name,error:!1,ref:i,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default"}),Object(_.jsx)("div",{className:"mb-6"}),Object(_.jsx)(tt.Input,{type:"email",placeholder:"E-mail",onChange:s,name:"email",value:n.email,error:!1,ref:l,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default"}),Object(_.jsx)("div",{className:"mb-6"}),Object(_.jsx)(tt.PasswordInput,{onChange:s,value:n.password,name:"password"}),Object(_.jsx)("div",{className:"mb-6"}),b&&Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("span",{className:"text text_type_main-default text_color_inactive",children:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0440\u0435\u0433\u0435\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f. \u041d\u0435 \u043f\u043e\u0432\u0435\u0437\u043b\u043e. \u041d\u0435 \u0444\u043e\u0440\u0442\u0430\u043d\u0443\u043b\u043e"}),Object(_.jsx)("div",{className:"mb-6"})]}),Object(_.jsx)(tt.Button,{type:"primary",size:"small",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"}),Object(_.jsx)("div",{className:"mb-20"})]}),Object(_.jsxs)("div",{className:ct.a.buttons,children:[Object(_.jsx)("span",{className:"text text_type_main-default text_color_inactive",children:"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?"}),Object(_.jsx)(tt.Button,{type:"secondary",size:"medium",onClick:j,children:"\u0412\u043e\u0439\u0442\u0438"})]})]})})}var st=n(44),it=n.n(st);function ot(){var e=c.a.useState(""),t=Object(N.a)(e,2),n=t[0],r=t[1],s=Object(o.g)(),i=W(),l=Z((function(e){return e.register})),u=(l.hasFogotPassReqSuccess,l.hasFogotPassReqFailed),d=Object(a.useCallback)((function(){s.replace({pathname:"/login"})}),[s]),j=Z((function(e){return e.register})).user;return""!==j.email&&""!==j.name?Object(_.jsx)(o.a,{to:{pathname:"/"}}):Object(_.jsx)("div",{className:it.a.container,children:Object(_.jsxs)("div",{className:it.a.content,children:[Object(_.jsx)("h3",{className:"text text_type_main-medium m-6",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(_.jsxs)("form",{className:it.a.form,onSubmit:function(e){var t;e.preventDefault(),""!==n&&(i((t=n,function(e){e({type:Be}),fetch("".concat(q,"/password-reset"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t})}).then(function(){var t=Object(T.a)(w.a.mark((function t(n){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n&&200===n.status?e({type:Ge}):e({type:ze});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e({type:ze})}))})),s.replace({pathname:"/reset-password"}))},children:[Object(_.jsx)(tt.Input,{type:"email",placeholder:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 E-mail",onChange:function(e){return r(e.target.value)},name:"email",value:n,error:!1,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default"}),Object(_.jsx)("div",{className:"mb-6"}),u&&Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("span",{className:"text text_type_main-default text_color_inactive mb-6",children:"\u0427\u0442\u043e-\u0442\u043e \u043d\u0435 \u0442\u0430\u043a, \u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 email, \u0430 \u043b\u0443\u0447\u0448\u0435 \u043f\u043e\u0441\u043f\u0438\u0442\u0435"}),Object(_.jsx)("div",{className:"mb-6"})]}),Object(_.jsx)(tt.Button,{type:"primary",size:"small",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c"}),Object(_.jsx)("div",{className:"mb-20"})]}),Object(_.jsxs)("div",{className:it.a.buttons,children:[Object(_.jsx)("span",{className:"text text_type_main-default text_color_inactive",children:"\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"}),Object(_.jsx)(tt.Button,{type:"secondary",size:"medium",onClick:d,children:"\u0412\u043e\u0439\u0442\u0438"})]})]})})}var lt=n(45),ut=n.n(lt);function dt(){var e=Object(o.g)(),t=W(),n=Z((function(e){return e.register})),r=n.hasResetPassReqSuccess,s=n.hasResetPassReqFailed,i=c.a.useState({password:"",token:""}),l=Object(N.a)(i,2),u=l[0],d=l[1],j=Object(a.useCallback)((function(){e.replace({pathname:"/login"})}),[e]),m=function(e){var t=e.target.value,n=e.target.name;d(Object($.a)(Object($.a)({},u),{},Object(Ye.a)({},n,t)))},b=Z((function(e){return e.register})),p=b.user;b.hasFogotPassReqSuccess;return""!==p.email&&""!==p.name?Object(_.jsx)(o.a,{to:{pathname:"/"}}):"REPLACE"!==e.action?Object(_.jsx)(o.a,{to:{pathname:"/fogot-password"}}):Object(_.jsx)("div",{className:ut.a.container,children:Object(_.jsxs)("div",{className:ut.a.content,children:[Object(_.jsx)("h3",{className:"text text_type_main-medium m-6",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(_.jsxs)("form",{className:ut.a.form,onSubmit:function(n){var a,c;n.preventDefault(),""!==u.password&&""!==u.token&&(t((a=u.password,c=u.token,function(e){e({type:Me}),fetch("".concat(q,"/password-reset/reset"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:a,token:c})}).then(function(){var t=Object(T.a)(w.a.mark((function t(n){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n&&n.ok?e({type:He}):e({type:Je});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e({type:Je})}))})),r&&e.replace({pathname:"/login"}))},children:[Object(_.jsx)(tt.PasswordInput,{onChange:m,value:u.password,name:"password"}),Object(_.jsx)("div",{className:"mb-6"}),Object(_.jsx)(tt.Input,{type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0434 \u0438\u0437 \u043f\u0438\u0441\u044c\u043c\u0430",onChange:m,name:"token",value:u.token,error:!1,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default"}),Object(_.jsx)("div",{className:"mb-6"}),s&&Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("span",{className:"text text_type_main-default text_color_inactive mb-6",children:"\u0427\u0442\u043e-\u0442\u043e \u043d\u0435 \u0442\u0430\u043a, \u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 email, \u0430 \u043b\u0443\u0447\u0448\u0435 \u043f\u043e\u0441\u043f\u0438\u0442\u0435"}),Object(_.jsx)("div",{className:"mb-6"})]}),Object(_.jsx)(tt.Button,{type:"primary",size:"small",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(_.jsx)("div",{className:"mb-20"})]}),Object(_.jsxs)("div",{className:ut.a.buttons,children:[Object(_.jsx)("span",{className:"text text_type_main-default text_color_inactive",children:"\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"}),Object(_.jsx)(tt.Button,{type:"secondary",size:"medium",onClick:j,children:"\u0412\u043e\u0439\u0442\u0438"})]})]})})}var jt=n(26),mt=n.n(jt),bt=function(e){var t=e.value,n=e.onChange,c=e.name,r=e.type,s=e.placeholder,i=e.size,o=void 0===i?"default":i,l=Object(a.useState)(!0),u=Object(N.a)(l,2),d=u[0],j=u[1],m=Object(a.useState)(!1),b=Object(N.a)(m,2),p=b[0],x=b[1],h=Object(a.useRef)(null);return Object(_.jsx)(tt.Input,{type:r,placeholder:s,onChange:n,icon:"EditIcon",value:t,ref:h,onBlur:function(e){e.target.value?function(e){x(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e))}(e.target.value):x(!1),j(!0)},onFocus:function(){x(!1)},name:c,error:p,disabled:d,onIconClick:function(){j(!1),setTimeout((function(){var e;return null===(e=h.current)||void 0===e?void 0:e.focus()}),0)},errorText:"Email \u0432\u0432\u0435\u0434\u0435\u043d \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e",size:o})},pt=function(e){var t=e.value,n=e.onChange,c=e.name,r=e.type,s=e.placeholder,i=e.size,o=void 0===i?"default":i,l=Object(a.useState)(!0),u=Object(N.a)(l,2),d=u[0],j=u[1],m=Object(a.useState)(!1),b=Object(N.a)(m,2),p=b[0],x=b[1],h=Object(a.useRef)(null);return Object(_.jsx)(tt.Input,{type:r,placeholder:s,onChange:n,icon:"EditIcon",value:t,ref:h,onBlur:function(e){e.target.value?function(e){x(!/^(?!\s*$).+/.test(e))}(e.target.value):x(!1),j(!0)},onFocus:function(){x(!1)},name:c,error:p,disabled:d,onIconClick:function(){j(!1),setTimeout((function(){var e;return null===(e=h.current)||void 0===e?void 0:e.focus()}),0)},errorText:"\u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e!",size:o})},xt=n(84),_t=n.n(xt);function ht(){var e=W(),t=Z((function(e){return e.register})).user,n=Object(a.useState)(t.name),c=Object(N.a)(n,2),r=c[0],s=c[1],i=Object(a.useState)(t.email),o=Object(N.a)(i,2),l=o[0],u=o[1],d=Object(a.useState)(""),j=Object(N.a)(d,2),m=j[0],b=j[1],p=Object(a.useState)(!1),x=Object(N.a)(p,2),h=x[0],O=x[1];Object(a.useEffect)((function(){l===t.email&&r===t.name&&""===m?O(!1):O(!0)}),[l,r,m,t]);var f=Z((function(e){return e.register})),g=f.hasChangeUserReqFailed,v=f.hasChangeUserReqSuccess;return Object(_.jsx)(_.Fragment,{children:""!==t.email&&""!==t.name?Object(_.jsxs)("form",{className:_t.a.form,onSubmit:function(t){t.preventDefault(),e(function(e,t,n){return function(a){var c={};c=void 0===n?{name:e,email:t}:{name:e,email:t,password:n},a({type:Qe}),fetch("".concat(q,"/auth/user"),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"".concat(localStorage.getItem("accessToken"))},body:JSON.stringify(c)}).then(function(){var e=Object(T.a)(w.a.mark((function e(t){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!t.ok){e.next=7;break}return e.next=3,t.json();case 3:n=e.sent,a({type:Ve,user:n.user}),e.next=8;break;case 7:a({type:We});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){a({type:We})}))}}(r,l,""===m?void 0:m)),b("")},children:[Object(_.jsx)(pt,{onChange:function(e){s(e.target.value),O(!0)},value:r,name:"name",placeholder:"\u0418\u043c\u044f",type:"text"}),Object(_.jsx)("div",{className:"mb-6"}),Object(_.jsx)(bt,{onChange:function(e){u(e.target.value),O(!0)},value:l,name:"email",placeholder:"\u041b\u043e\u0433\u0438\u043d",type:"email"}),Object(_.jsx)("div",{className:"mb-6"}),Object(_.jsx)(pt,{onChange:function(e){b(e.target.value),O(!0)},value:m,name:"pass",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",type:"password"}),v&&Object(_.jsx)("span",{className:"text text_type_main-default text_color_inactive",children:"\u0414\u0430\u043d\u043d\u044b\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u044b"}),g&&Object(_.jsx)("span",{className:"text text_type_main-default text_color_inactive",children:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0436\u0435"}),h&&Object(_.jsxs)("div",{className:"mt-6 ".concat(_t.a.buttonContainer),children:[Object(_.jsx)(tt.Button,{type:"primary",size:"small",onClick:function(){O(!1),u(t.email),s(t.name),b("")},children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"}),Object(_.jsx)(tt.Button,{type:"primary",size:"small",children:" \u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]}):Object(_.jsx)("span",{className:"text text_type_main-default text_color_inactive",children:"\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f. \u0420\u0430\u0437\u043b\u043e\u0433\u0438\u043d\u0442\u0435\u0441\u044c \u0438 \u0437\u0430\u043b\u043e\u0433\u0438\u043d\u0442\u0435\u0441\u044c"})})}var Ot=n(46),ft=n.n(Ot),gt=n(21),vt=n.n(gt);function yt(e){var t=e.bun,n=e.orderItems,a=t[0],c=n.slice(0,3),r=n[4]?n[4]:null,s=n.slice(5,n.length).length;return Object(_.jsxs)("div",{className:vt.a.parentContainer,children:[a&&Object(_.jsx)("div",{className:vt.a.imageContainer,style:{transform:"translate(0px, 0px)",zIndex:99},children:Object(_.jsx)("div",{className:vt.a.image,style:{backgroundImage:"url(".concat(a.image,")"),backgroundSize:"cover",backgroundPosition:"center center"}},a._id)}),c.map((function(e,t){return Object(_.jsx)("div",{className:vt.a.imageContainer,style:{transform:"translate(".concat(15*-(t+1),"px, 0px)"),zIndex:99-(t+1)},children:Object(_.jsx)("div",{className:vt.a.image,style:{backgroundImage:"url(".concat(null===e||void 0===e?void 0:e.image,")"),backgroundSize:"cover",backgroundPosition:"center center"}},"".concat(null===e||void 0===e?void 0:e._key))},t)})),r&&0!==s&&Object(_.jsx)("div",{className:vt.a.image_last,style:{backgroundImage:"url(".concat(r.image,")"),backgroundSize:"cover",backgroundPosition:"center center"},children:Object(_.jsx)("div",{className:vt.a.background,children:Object(_.jsx)("span",{className:"".concat(vt.a.span," text text_type_digits-default"),children:"+".concat(s)})})})]})}function Nt(e){var t=e.item,n=Object(o.g)(),a="";a=window.location.pathname.includes("feed")?"/feed":"/profile/orders";var c=(new Date).getDate()-Number(t.createdAt.split("T")[0].slice(8)),r=t.createdAt.split("T")[1].slice(0,5),s=null;c<0&&(s="\u0414\u0430\u0432\u043d\u043e"),0===c&&(s="\u0421\u0435\u0433\u043e\u0434\u043d\u044f"),1===c&&(s="\u0412\u0447\u0435\u0440\u0430"),c>1&&(s="".concat(c," \u0434\u043d\u044f \u043d\u0430\u0437\u0430\u0434"));var i=Z((function(e){return e.ingredient})).items,l=[],u=[];t.ingredients.forEach((function(e){i.forEach((function(t){t._id===e&&"bun"!==t.type&&l.push(t),t._id===e&&"bun"===t.type&&u.push(t)}))}));var d=l.reduce((function(e,t){return e+t.price}),0)+2*u.reduce((function(e,t){return e+t.price}),0);return Object(_.jsxs)("div",{className:"".concat(ft.a.container," mb-6 mr-2 p-6"),onClick:function(){n.push({state:{background:{pathname:a}},pathname:"".concat(a,"/").concat(t._id)})},children:[Object(_.jsxs)("div",{className:ft.a.top,children:[Object(_.jsx)("span",{className:"text text_type_digits-default",children:"#".concat(t.number)}),Object(_.jsx)("span",{className:"text text_type_main-small text_color_inactive",children:"".concat(s,", ").concat(r," i-GMT+3")})]}),Object(_.jsx)("p",{className:"text text_type_main-medium mb-2",children:t.name}),Object(_.jsx)("p",{className:"text text_type_main-small",children:"done"===t.status?"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d":"pending"===t.status?" \u0413\u043e\u0442\u043e\u0432\u0438\u0442\u0441\u044f":"\u0421\u043e\u0437\u0434\u0430\u043d"}),Object(_.jsxs)("div",{className:ft.a.bottom,children:[Object(_.jsx)(yt,{bun:u,orderItems:l}),Object(_.jsxs)("div",{className:ft.a.totalContainer,children:[Object(_.jsx)("div",{className:"text text_type_digits-default mr-2",children:d}),Object(_.jsx)(tt.CurrencyIcon,{type:"primary"})]})]})]})}var St="WS_CONNECTION_START",Rt="WS_CONNECTION_START_ALL",Ct="WS_CONNECTION_SUCCESS",It="WS_CONNECTION_ERROR",kt="WS_CONNECTION_CLOSED",Et="WS_GET_MESSAGE",wt=n(117),Tt=n.n(wt);function qt(){var e=W();Object(a.useEffect)((function(){return e({type:St}),function(){e({type:kt})}}),[e]);var t=Z((function(e){return e.ws.messages}));return Object(_.jsx)("div",{className:Tt.a.list,children:t.map((function(e){return Object(_.jsx)(Nt,{item:e},e._id)}))})}var Ft=n(55),Ut=["children"];function Pt(e){var t=e.children,n=Object(Ft.a)(e,Ut),a=Z((function(e){return e.register})).user;return Object(_.jsx)(o.b,Object($.a)(Object($.a)({},n),{},{render:function(e){var n=e.location;return""!==a.email&&""!==a.name?t:Object(_.jsx)(o.a,{to:{pathname:"/login",state:{from:n}}})}}))}var At=n(35),Dt=n.n(At),Lt=n(47),Bt=n.n(Lt);function Gt(e){var t=e.name,n=e.type,a=e.price,c=e.image;return Object(_.jsxs)("div",{className:Bt.a.container,children:[Object(_.jsxs)("div",{className:Bt.a.nameCont,children:[Object(_.jsx)("img",{src:c,className:Bt.a.image,alt:t}),Object(_.jsx)("p",{className:"text text_type_main-default mr-4",children:t})]}),Object(_.jsxs)("div",{className:Bt.a.total,children:[Object(_.jsx)("span",{className:"text text_type_digits-default mr-4",children:"bun"===n?"2 x ".concat(a):"1 x ".concat(a)}),Object(_.jsx)(tt.CurrencyIcon,{type:"primary"})]})]})}function zt(){var e=Object(o.i)().id,t=W(),n=window.location.pathname,c="";c=n.includes("profile")?St:Rt,Object(a.useEffect)((function(){return t({type:c}),function(){t({type:kt})}}),[t]);var r=Z((function(e){return e.ws.messages})),s=Z((function(e){return e.ingredient})).items,i=r.filter((function(t){return t._id===e}))[0];if(!i)return null;var l=[];s.forEach((function(e){i.ingredients.forEach((function(t){e._id===t&&l.push(e)}))}));var u=[],d=[];l.forEach((function(e){"bun"!==e.type&&u.push(e),"bun"===e.type&&d.push(e)}));var j=u.reduce((function(e,t){return e+t.price}),0)+2*d.reduce((function(e,t){return e+t.price}),0),m=(new Date).getDate()-Number(i.createdAt.split("T")[0].slice(8)),b=i.createdAt.split("T")[1].slice(0,5),p=null;return m<0&&(p="\u0414\u0430\u0432\u043d\u043e"),0===m&&(p="\u0421\u0435\u0433\u043e\u0434\u043d\u044f"),1===m&&(p="\u0412\u0447\u0435\u0440\u0430"),m>1&&(p="".concat(m," \u0434\u043d\u044f \u043d\u0430\u0437\u0430\u0434")),Object(_.jsxs)("div",{className:Dt.a.container,children:[Object(_.jsx)("p",{className:"text text_type_digits-default mb-10",children:"#".concat(i.number)}),Object(_.jsx)("h4",{className:"text text_type_main-medium mb-3",children:i.name}),Object(_.jsx)("p",{className:"".concat(Dt.a.colorText," text text_type_main-small mb-15"),children:"done"===i.status?"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d":"pending"===i.status?" \u0413\u043e\u0442\u043e\u0432\u0438\u0442\u0441\u044f":"\u0421\u043e\u0437\u0434\u0430\u043d"}),Object(_.jsx)("p",{className:"text text_type_main-medium mb-6",children:"\u0421\u043e\u0441\u0442\u0430\u0432:"}),Object(_.jsx)("div",{className:"".concat(Dt.a.stack," mb-10"),children:l.map((function(e,t){return Object(_.jsx)(Gt,{name:e.name,price:e.price,type:e.type,image:e.image},t)}))}),Object(_.jsxs)("div",{className:Dt.a.bottom,children:[Object(_.jsx)("span",{className:"text text_type_main-small text_color_inactive",children:"".concat(p,", ").concat(b," i-GMT+3")}),Object(_.jsxs)("div",{className:Dt.a.totalContainer,children:[Object(_.jsx)("div",{className:"text text_type_digits-default mr-2",children:j}),Object(_.jsx)(tt.CurrencyIcon,{type:"primary"})]})]})]})}function Mt(){var e=window.location.pathname.split("orders/")[1],t=W(),n=Object(o.g)(),a=Z((function(e){return e.register})).hasLogoutFailed,c=!0;return window.location.pathname.includes("/profile/orders/".concat(e))&&n.length<=2&&(c=!1),Object(_.jsxs)("div",{className:mt.a.mainContainer,children:[c&&Object(_.jsxs)("div",{className:mt.a.tabsContainer,children:[Object(_.jsx)(i.b,{to:"/profile",exact:!0,className:"".concat(mt.a.link," text text_type_main-medium text_color_inactive"),activeClassName:mt.a.linkActive,children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"}),Object(_.jsx)(i.b,{to:"/profile/orders",className:"".concat(mt.a.link," text text_type_main-medium text_color_inactive"),activeClassName:mt.a.linkActive,onClick:function(){c=!0},children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u043e\u0432"}),Object(_.jsx)("button",{className:"".concat(mt.a.button," text text_type_main-medium text_color_inactive"),onClick:function(){var e;t((e=function(){n.replace("/login")},function(t){t({type:Ae}),fetch("".concat(q,"/auth/logout"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:localStorage.getItem("refreshToken")})}).then(function(){var n=Object(T.a)(w.a.mark((function n(a){return w.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:localStorage.removeItem("refreshToken"),localStorage.removeItem("accessToken"),a&&a.ok?(t({type:De}),e()):t({type:Le});case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()).catch((function(e){t({type:Le})}))}))},children:"\u0412\u044b\u0445\u043e\u0434"}),Object(_.jsx)("div",{className:"mb-20"}),Object(_.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u0412 \u044d\u0442\u043e\u043c \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0432\u043e\u0438 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"}),a&&Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("span",{className:"text text_type_main-default text_color_inactive mt-6",children:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0432\u044b\u0439\u0442\u0438 \u0438\u0437 \u043f\u0440\u043e\u0444\u0438\u043b\u044f. \u0421\u043a\u043e\u0440\u0435\u0435 \u0432\u0441\u0435\u0433\u043e \u043d\u0430\u043b\u0430\u0436\u0430\u043b \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a. \u0413\u043b\u0443\u0431\u043e\u043a\u043e \u0432\u0437\u0434\u043e\u0445\u043d\u0438\u0442\u0435, \u043f\u043e\u0437\u043d\u0430\u0439\u0442\u0435 \u0441\u0443\u0449\u043d\u043e\u0441\u0442\u0438 \u0435\u0434\u0438\u043d\u0441\u0442\u0432\u043e \u0438 \u0431\u0435\u0441\u043a\u043e\u043d\u0435\u0447\u043d\u043e\u0441\u0442\u044c \u0447\u0435\u0440\u043d\u044b\u0445 \u0434\u044b\u0440"}),Object(_.jsx)("div",{className:"mb-6"})]})]}),Object(_.jsxs)(o.d,{children:[Object(_.jsx)(o.b,{exact:!0,path:"/profile",children:Object(_.jsx)(ht,{})}),Object(_.jsx)(o.b,{exact:!0,path:"/profile/orders",children:Object(_.jsx)(qt,{})}),Object(_.jsx)(Pt,{exact:!0,path:"/profile/orders/:id",children:Object(_.jsx)(zt,{})})]})]})}var Ht=n(60),Jt=n.n(Ht),Qt=n(85),Vt=n.n(Qt);function Wt(){var e=Z((function(e){return e.ws.messages}));return Object(_.jsx)("div",{className:"".concat(Vt.a.container," mr-15"),children:Object(_.jsx)("div",{className:Vt.a.stack,children:e.map((function(e){return Object(_.jsx)(Nt,{item:e},e._id)}))})})}var Zt=n(27),Xt=n.n(Zt);function Kt(){var e=Z((function(e){return e.ws.messages})),t=Z((function(e){return e.ws})),n=t.total,a=t.totalToday,c=[],r=[];return e.forEach((function(e){"done"===e.status&&c.push(e),"pending"===e.status&&r.push(e)})),c.length>10&&c.splice(10),r.length>10&&c.splice(10),Object(_.jsxs)("div",{className:Xt.a.container,children:[Object(_.jsxs)("div",{className:Xt.a.list,children:[Object(_.jsxs)("div",{className:"mr-9",children:[Object(_.jsx)("h4",{className:"text text_type_main-medium mb-6",children:"\u0413\u043e\u0442\u043e\u0432\u044b:"}),c.map((function(e){return Object(_.jsx)("li",{className:"".concat(Xt.a.color," text text_type_digits-default mb-2"),children:e.number},e._id)}))]}),Object(_.jsxs)("div",{className:Xt.a.inProgress,children:[Object(_.jsx)("h4",{className:"text text_type_main-medium mb-6",children:"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435:"}),r.map((function(e){return Object(_.jsx)("li",{className:"".concat(Xt.a.color," text text_type_digits-default mb-2"),children:e.number},e._id)}))]})]}),Object(_.jsxs)("div",{className:"mb-15",children:[Object(_.jsx)("p",{className:"text text_type_main-medium",children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0437\u0430 \u0432\u0441\u0435 \u0432\u0440\u0435\u043c\u044f:"}),Object(_.jsx)("div",{className:"".concat(Xt.a.colorNum," text text_type_digits-large"),children:n})]}),Object(_.jsxs)("div",{children:[Object(_.jsx)("p",{className:"text text_type_main-medium",children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0437\u0430 \u0441\u0435\u0433\u043e\u0434\u043d\u044f:"}),Object(_.jsx)("div",{className:"".concat(Xt.a.colorNum," text text_type_digits-large"),children:a})]})]})}function Yt(){var e=W();return Object(a.useEffect)((function(){return e({type:Rt}),function(){e({type:kt})}}),[e]),Object(_.jsxs)("section",{className:Jt.a.container,children:[Object(_.jsx)("h3",{className:"".concat(Jt.a.header," text text_type_main-medium mb-5"),children:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"}),Object(_.jsxs)("div",{className:Jt.a.main,children:[Object(_.jsx)(Wt,{}),Object(_.jsx)(Kt,{})]})]})}var $t=function(){var e,t=W(),n=Object(o.h)(),a=Object(o.g)(),c=null===(e=n.state)||void 0===e?void 0:e.background,r=Z((function(e){return e.modal})).show;return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)("div",{className:"page",children:[Object(_.jsx)(O,{}),Object(_.jsxs)(o.d,{location:null!==c&&void 0!==c?c:n,children:[Object(_.jsx)(o.b,{exact:!0,path:"/login",children:Object(_.jsx)(nt,{})}),Object(_.jsx)(o.b,{exact:!0,path:"/register",children:Object(_.jsx)(rt,{})}),Object(_.jsx)(o.b,{exact:!0,path:"/fogot-password",children:Object(_.jsx)(ot,{})}),Object(_.jsx)(o.b,{exact:!0,path:"/reset-password",children:Object(_.jsx)(dt,{})}),Object(_.jsx)(Pt,{path:"/profile",children:Object(_.jsx)(Mt,{})}),Object(_.jsx)(o.b,{exact:!0,path:"/ingredients/:id",children:Object(_.jsx)(xe,{})}),Object(_.jsx)(o.b,{exact:!0,path:"/feed",children:Object(_.jsx)(Yt,{})}),Object(_.jsx)(o.b,{exact:!0,path:"/feed/:id",children:Object(_.jsx)(zt,{})}),Object(_.jsx)(Pt,{exact:!0,path:"/profile/orders/:id",children:Object(_.jsx)(zt,{})}),Object(_.jsxs)(o.b,{exact:!0,path:"/",children:[Object(_.jsx)("main",{className:j.a.main,children:Object(_.jsxs)(l.a,{backend:u.a,children:[Object(_.jsx)(X,{}),Object(_.jsx)(me,{})]})}),r&&Object(_.jsx)(Ce,{pStyle:"pt-30 pr-25 pb-30 pl-25",header:"",closeModal:function(){t({type:D})},children:Object(_.jsx)(fe,{})})]})]})]}),c&&Object(_.jsx)(o.b,{path:"/ingredients/:id",children:Object(_.jsx)(Ce,{pStyle:"pt-10 pr-10 pb-15 pl-10",header:"\u0414\u0435\u0442\u0430\u043b\u0438 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430",closeModal:function(){return a.replace("/")},children:Object(_.jsx)(xe,{})})}),c&&Object(_.jsx)(o.b,{path:"/feed/:id",children:Object(_.jsx)(Ce,{pStyle:"pt-10 pr-10 pb-15 pl-10",header:"",closeModal:function(){return a.replace("/feed")},children:Object(_.jsx)(zt,{})})}),c&&Object(_.jsx)(Pt,{path:"/profile/orders/:id",children:Object(_.jsx)(Ce,{pStyle:"pt-10 pr-10 pb-15 pl-10",header:"",closeModal:function(){return a.replace("/profile/orders")},children:Object(_.jsx)(zt,{})})})]})},en=function(){var e=W();return Object(a.useEffect)((function(){e((function(e){e({type:F}),fetch("".concat(q,"/ingredients")).then(function(){var t=Object(T.a)(w.a.mark((function t(n){var a;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n||!n.ok){t.next=7;break}return t.next=3,n.json();case 3:a=t.sent,e({type:U,items:a.data}),t.next=8;break;case 7:e({type:P});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e({type:P})}))}))}),[e]),Object(a.useEffect)((function(){e((function(e){e({type:Fe}),Ke("".concat(q,"/auth/user"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"".concat(localStorage.getItem("accessToken"))}}).then((function(t){e({type:Ue,user:t.user})})).catch((function(t){e({type:Pe})}))}))})),Object(_.jsx)(i.a,{children:Object(_.jsx)($t,{})})},tn=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,222)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))},nn=n(24),an=n(22);function cn(e,t){return e.splice(t,1),e}function rn(e,t,n){var a=e[t];return e.splice(t,1),e.splice(n,0,a),e}var sn={items:[],buns:[],orderItems:[],isLoading:!1,hasRequestFailed:!1},on={currentIngredient:{},show:!1,content:null},ln={orderNumber:null,isLoadingOrder:!1,hasRequestOrderFailed:!1},un={current:"\u0411\u0443\u043b\u043a\u0438"},dn={user:{name:"",email:""},regUserRequest:!1,hasReqRegSuccess:!1,hasReqRegFailed:!1,authUserRequest:!1,hasReqAuthFailed:!1,hasReqAuthSuccess:!1,getUserRequest:!1,hasGetUserReqFailed:!1,hasGetUserReqSuccess:!1,logoutRequest:!1,hasLogoutSuccess:!1,hasLogoutFailed:!1,fogotPassRequest:!1,hasFogotPassReqSuccess:!1,hasFogotPassReqFailed:!1,resetPassRequest:!1,hasResetPassReqSuccess:!1,hasResetPassReqFailed:!1,changeUserRequest:!1,hasChangeUserReqSuccess:!1,hasChangeUserReqFailed:!1},jn={wsConnected:!1,messages:[],total:0,totalToday:0},mn=Object(nn.b)({ingredient:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return Object($.a)(Object($.a)({},e),{},{isLoading:!0});case U:return Object($.a)(Object($.a)({},e),{},{isLoading:!1,hasRequestFailed:!1,items:t.items});case P:return Object($.a)(Object($.a)({},e),{},{isLoading:!1,hasRequestFailed:!0});case L:return Object($.a)(Object($.a)({},e),{},{buns:Object(an.a)(e.items.filter((function(e){return e._id===t._id&&"bun"===e.type}))),items:Object(an.a)(e.items).map((function(e){return"bun"===e.type?e._id===t._id?Object($.a)(Object($.a)({},e),{},{__v:2}):Object($.a)(Object($.a)({},e),{},{__v:0}):e}))});case B:return Object($.a)(Object($.a)({},e),{},{orderItems:[].concat(Object(an.a)(e.orderItems),Object(an.a)(e.items.filter((function(e){return e._id===t._id&&"bun"!==e.type})))).map((function(e){return e._id===t._id?Object($.a)(Object($.a)({},e),{},{_key:Object(ee.a)()}):e})),items:Object(an.a)(e.items).map((function(e){return e._id===t._id?Object($.a)(Object($.a)({},e),{},{__v:++e.__v}):e}))});case G:return Object($.a)(Object($.a)({},e),{},{orderItems:cn(Object(an.a)(e.orderItems),t.index),items:Object(an.a)(e.items).map((function(e){return e._id===t._id?Object($.a)(Object($.a)({},e),{},{__v:--e.__v}):e}))});case z:return Object($.a)(Object($.a)({},e),{},{orderItems:rn(Object(an.a)(e.orderItems),t.dragIndex,t.hoverIndex)});default:return e}},modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:on,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return Object($.a)(Object($.a)({},e),{},{show:!0,content:t.content});case D:return Object($.a)(Object($.a)({},e),{},{show:!1,content:null,currentIngredient:{}});default:return e}},order:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ln,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:return Object($.a)(Object($.a)({},e),{},{isLoadingOrder:!0});case H:return Object($.a)(Object($.a)({},e),{},{isLoadingOrder:!1,hasRequestOrderFailed:!1,orderNumber:t.orderNumber});case J:return Object($.a)(Object($.a)({},e),{},{isLoadingOrder:!1,hasRequestOrderFailed:!0});default:return e}},currentTab:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:un,t=arguments.length>1?arguments[1]:void 0;return t.type===Q?Object($.a)(Object($.a)({},e),{},{current:t.current}):e},register:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ie:return Object($.a)(Object($.a)({},e),{},{regUserRequest:!0,hasReqRegSuccess:!1});case ke:return Object($.a)(Object($.a)({},e),{},{regUserRequest:!1,hasReqRegFailed:!1,hasReqRegSuccess:!0,user:t.user});case Ee:return Object($.a)(Object($.a)({},e),{},{regUserRequest:!1,hasReqRegFailed:!0,hasReqRegSuccess:!1});case we:return Object($.a)(Object($.a)({},e),{},{authUserRequest:!0,hasReqAuthSuccess:!1});case Te:return Object($.a)(Object($.a)({},e),{},{authUserRequest:!1,hasReqAuthFailed:!1,hasReqAuthSuccess:!0,user:t.user});case qe:return Object($.a)(Object($.a)({},e),{},{authUserRequest:!1,hasReqAuthFailed:!0,hasReqAuthSuccess:!1});case Fe:return Object($.a)(Object($.a)({},e),{},{getUserRequest:!0,hasReqRegFailed:!1,hasGetUserReqSuccess:!1});case Ue:return Object($.a)(Object($.a)({},e),{},{getUserRequest:!1,hasReqRegFailed:!1,user:t.user,hasGetUserReqSuccess:!0});case Pe:return Object($.a)(Object($.a)({},e),{},{getUserRequest:!1,hasReqRegFailed:!0,user:{name:"",email:""},hasGetUserReqSuccess:!1});case Ae:return Object($.a)(Object($.a)({},e),{},{logoutRequest:!0,hasLogoutSuccess:!1});case De:return Object($.a)(Object($.a)({},e),{},{logoutRequest:!1,hasLogoutSuccess:!1,hasLogoutFailed:!1,user:{name:"",email:""}});case Le:return Object($.a)(Object($.a)({},e),{},{logoutRequest:!1,hasLogoutSuccess:!1,hasLogoutFailed:!0});case Be:return Object($.a)(Object($.a)({},e),{},{fogotPassRequest:!0,hasFogotPassReqSuccess:!1,hasFogotPassReqFailed:!1});case Ge:return Object($.a)(Object($.a)({},e),{},{fogotPassRequest:!1,hasFogotPassReqSuccess:!0,hasFogotPassReqFailed:!1});case ze:return Object($.a)(Object($.a)({},e),{},{fogotPassRequest:!1,hasFogotPassReqSuccess:!1,hasFogotPassReqFailed:!0});case Me:return Object($.a)(Object($.a)({},e),{},{resetPassRequest:!0,hasResetPassReqSuccess:!1,hasResetPassReqFailed:!1});case He:return Object($.a)(Object($.a)({},e),{},{resetPassRequest:!1,hasResetPassReqSuccess:!0,hasResetPassReqFailed:!1});case Je:return Object($.a)(Object($.a)({},e),{},{resetPassRequest:!1,hasResetPassReqSuccess:!1,hasResetPassReqFailed:!0});case Qe:return Object($.a)(Object($.a)({},e),{},{changeUserRequest:!0,hasChangeUserReqSuccess:!1,hasChangeUserReqFailed:!1});case Ve:return Object($.a)(Object($.a)({},e),{},{changeUserRequest:!1,hasChangeUserReqSuccess:!0,hasChangeUserReqFailed:!1,user:t.user});case We:return Object($.a)(Object($.a)({},e),{},{changeUserRequest:!1,hasChangeUserReqSuccess:!1,hasChangeUserReqFailed:!0});default:return e}},ws:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ct:return Object($.a)(Object($.a)({},e),{},{error:void 0,wsConnected:!0});case It:return Object($.a)(Object($.a)({},e),{},{error:t.payload,wsConnected:!1});case kt:return Object($.a)(Object($.a)({},e),{},{error:void 0,wsConnected:!1});case Et:var n=t.payload.orders;return Object($.a)(Object($.a)({},e),{},{error:void 0,messages:n,total:t.payload.total,totalToday:t.payload.totalToday});default:return e}}}),bn=n(118),pn=["success"],xn=function(e,t){return function(n){var a=null;return function(c){return function(r){var s=n.dispatch,i=r.type,o=t.wsInit,l=t.wsInitAll,u=t.onOpen,d=t.onClose,j=t.onError,m=t.onMessage;if(i===l&&(a=new WebSocket("".concat(e,"/all"))),i===o){var b,p=null===(b=localStorage.getItem("accessToken"))||void 0===b?void 0:b.split("Bearer")[1].split(" ")[1];a=new WebSocket("".concat(e,"?token=").concat(p))}a&&(a.onopen=function(e){s({type:u,payload:e})},a.onerror=function(e){s({type:j,payload:e})},a.onmessage=function(e){var t=e.data,n=JSON.parse(t),a=(n.success,Object(Ft.a)(n,pn));s({type:m,payload:a})},a.onclose=function(e){a.close(),s({type:d,payload:e})}),c(r)}}}},_n="wss://norma.nomoreparties.space/orders",hn={wsInit:St,wsInitAll:Rt,onOpen:Ct,onClose:kt,onError:It,onMessage:Et},On=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(nn.d)(mn,e,Object(nn.c)(Object(nn.a)(bn.a,xn(_n,hn))))}();s.a.render(Object(_.jsx)(c.a.StrictMode,{children:Object(_.jsx)(V.a,{store:On,children:Object(_.jsx)(en,{})})}),document.getElementById("root")),tn()},25:function(e,t,n){e.exports={content:"ingredientDetails_content__3wVdd",modalImage:"ingredientDetails_modalImage__1V8Z6",spansContainer:"ingredientDetails_spansContainer__tpsBp",spans:"ingredientDetails_spans__CUOGH"}},26:function(e,t,n){e.exports={tabsContainer:"profile_tabsContainer__8X5L8",mainContainer:"profile_mainContainer__a73zV",link:"profile_link__1-1p8",linkActive:"profile_linkActive__LfmXC",button:"profile_button__2w-9V"}},27:function(e,t,n){e.exports={color:"ordersStatistic_color__1lt7Y",liProgress:"ordersStatistic_liProgress__Zf3dh",list:"ordersStatistic_list__sb6tl",container:"ordersStatistic_container__K1D1V",colorNum:"ordersStatistic_colorNum__3tL0W"}},34:function(e,t,n){e.exports={container:"login_container__2wyBj",content:"login_content__28Q5n",form:"login_form__3DD6c",buttons:"login_buttons__11O8d"}},35:function(e,t,n){e.exports={stack:"stackDetails_stack__sQ2JH",totalContainer:"stackDetails_totalContainer__26fwC",bottom:"stackDetails_bottom__15tmc",container:"stackDetails_container__2fyN-"}},42:function(e,t,n){e.exports={container:"ingredientItem_container__3Hn4l",image:"ingredientItem_image__d86ve",priceContainer:"ingredientItem_priceContainer__RNx0l",name:"ingredientItem_name__2jZHO"}},43:function(e,t,n){e.exports={container:"register_container__2rH3-",content:"register_content__3FBxM",form:"register_form__16uRP",buttons:"register_buttons__16bHw"}},44:function(e,t,n){e.exports={container:"fogotPassword_container__2kKIJ",content:"fogotPassword_content__1vN4F",form:"fogotPassword_form__3ZhTF",buttons:"fogotPassword_buttons__1Gml5"}},45:function(e,t,n){e.exports={container:"resetPassword_container__2Jv6m",content:"resetPassword_content__2z2BI",form:"resetPassword_form__28CIJ",buttons:"resetPassword_buttons__2X8Uc"}},46:function(e,t,n){e.exports={container:"ordersStackItem_container__sBgnI",top:"ordersStackItem_top__243PA",bottom:"ordersStackItem_bottom__1pZq6",totalContainer:"ordersStackItem_totalContainer__1j0YC"}},47:function(e,t,n){e.exports={image:"stackItem_image__2k0ke",container:"stackItem_container__18H5s",nameCont:"stackItem_nameCont__18zTS",total:"stackItem_total__3QX_K"}},57:function(e,t,n){e.exports={header:"appHeader_header__1wUa6",container:"appHeader_container__2FgFj",logo:"appHeader_logo__1PbXb",profile:"appHeader_profile__1syo_"}},58:function(e,t,n){e.exports={container:"orderDetails_container__3O2AB",image:"orderDetails_image__1qAVK",text:"orderDetails_text__VBZEu"}},59:function(e,t,n){e.exports={content:"modal_content__1tQ-X",header:"modal_header__2iX3r",close:"modal_close__1Iez6"}},60:function(e,t,n){e.exports={container:"feed_container__3Zlhe",main:"feed_main__3gURw",header:"feed_header__31KK0"}},82:function(e,t,n){e.exports={section:"burgerIngredients_section__1-vC3",mainContainer:"burgerIngredients_mainContainer__GN61-"}},84:function(e,t,n){e.exports={form:"profileForm_form__3EWgV",buttonContainer:"profileForm_buttonContainer__12ZYU"}},85:function(e,t,n){e.exports={container:"ordersStack_container__sfjKV"}}},[[213,1,2]]]);
//# sourceMappingURL=main.9ed50e3a.chunk.js.map